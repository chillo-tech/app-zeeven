version: '3.8'

services:
  app-zeeven:
    container_name: app-zeeven
    # The official v2 Traefik docker image
    image: simachille/app-zeeven:latest
    restart: always
    ports:
      # The HTTP port
      - "82:3000"
    extra_hosts:
      - "host.docker.internal:host-gateway"
    environment:
      - API_URL=${API_URL}
      - APPLICATION_URL=${APPLICATION_URL}
      - BACKOFFICE_API=${BACKOFFICE_API}
      - BACKOFFICE_API_TOKEN=${BACKOFFICE_API_TOKEN}

      - GOOGLE_ID=${GOOGLE_ID}
      - GOOGLE_SECRET=${GOOGLE_SECRET}

      - JWT_SECRET=${JWT_SECRET}

      - NEXT_PUBLIC_API_KEY=${PUBLIC_API_KEY}
      - NEXT_PUBLIC_ASSETS_ENDPOINT=${PUBLIC_ASSETS_ENDPOINT}
      - NEXT_PUBLIC_CLIENT_ID=${PUBLIC_CLIENT_ID}
      - NEXT_PUBLIC_DISCOVERY_DOC=${PUBLIC_DISCOVERY_DOC}
      - NEXT_PUBLIC_GOOGLE_ANALYTICS=${PUBLIC_GOOGLE_ANALYTICS}
      - NEXT_PUBLIC_GOOGLE_MAP_API_KEY=${PUBLIC_GOOGLE_MAP_API_KEY}
      - NEXT_PUBLIC_SCOPES=${PUBLIC_SCOPES}
      - NEXT_PUBLIC_SECRET=${PUBLIC_SECRET}

      - NEXTAUTH_SECRET=${NEXTAUTH_SECRET}
      - NEXTAUTH_URL=${NEXTAUTH_URL}
      - NEXTAUTH_URL_INTERNAL=${NEXTAUTH_URL_INTERNAL}

      - SERVICE_ID=${SERVICE_ID}
      - SERVICE_KEY=${SERVICE_KEY}

    networks:
      - applications-network
networks:
  applications-network:
    external: true
    name: applications-network